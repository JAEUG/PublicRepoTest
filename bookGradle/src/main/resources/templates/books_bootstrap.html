<!DOCTYPE html>
<html lang="ko-kr" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<title>도서 목록</title>
<style>
	#control a {
		color: red;
	}
	

</style>
<script>
	window.onload = function() {
		
		let count = 0;
		let my_body = document.getElementsByTagName("body");
		let more = document.querySelector("#control span");
		let my_a = document.querySelector("#control a");
		
		console.log("더보기: " + my_body[0]);
		
		my_a.style.cursor="pointer";
		
		my_a.addEventListener("click", function() {
			
			
			count++;
			console.log("횟수: " + count);
			
			if (count >= 5 && count < 10) {
				window.alert("또 속냐 ㅋㅋㅋ");
			} else if (count >= 10) {
				window.alert("님 바보임? 그만하셈 이곳엔 아무것도 없어");
				my_body[0].style.backgroundColor = "red";
			}
			
		});
		
		
		
		
		
	}
	

	
	

</script>
</head>
<body>
   <nav class="navbar navbar-expand  navbar-dark bg-dark"> 
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="./home">Home</a>
            </div>
        </div>
    </nav>
    <div class="mb-4 p-5 bg-secondary">
        <div class="container">
            <h1 class="display-3">도서 목록</h1>
        </div>
    </div>
    <div class="container">
        <div class="row" align="center" >
             
                <div class="col-md-4" th:each="book : ${bookList}" >
                    <h3 th:text="${book.name}"></h3>
                    <p th:text=${book.author}></p>
                        <br> <p>[[${book.publisher}]] | [[${book.releaseDate}]]</p>
                    <p id="control" align=left th:utext="${#strings.substring(book.description, 0, 100) + '...<a>[더 보기]</a>'}"></p>
                    <p th:text="${#numbers.formatInteger(book.unitPrice, 3, 'COMMA') + '원'}"></p>
                </div>
             
        </div>
        <hr>
        <footer>
            <p>&copy; BookMarket</p>
        </footer>
    </div>
	
</body>
</html>
